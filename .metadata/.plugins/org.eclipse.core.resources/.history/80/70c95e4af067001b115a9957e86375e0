package CustomerSimulator;


import CustomerSimulator.controller.EventQueue;
import CustomerSimulator.controller.StoreClose;
import CustomerSimulator.controller.StoreOpen;
import CustomerSimulator.models.Store;

public class Simulator {
	public void run(double timeOpen, int registersOpen, int maxCustomers, double lambda, double pickMin, double pickMax, double payMin, double payMax, long seed) {
		double[] pickMinMax = new double[2];
		double[] payMinMax = new double[2];
		pickMinMax[0] = pickMin; 
		pickMinMax[1] = pickMax;
		payMinMax[0] = payMin; 
		payMinMax[1] = payMax;
		Store store = new Store(timeOpen, registersOpen, maxCustomers, lambda, pickMinMax, payMinMax, seed);
		EventQueue queue = new EventQueue();
		queue.addEvent(new StoreOpen(store));
		queue.addEvent(new StoreClose(store));
		while(store.getStatus()) {
			queue.getFirst().run();
			queue.removeEvent();
		}
	}
}
